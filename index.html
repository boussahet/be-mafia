<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>üé≠ ŸÑÿπÿ®ÿ© ÿßŸÑŸÖÿßŸÅŸäÿß</title>
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Tajawal', sans-serif;
    }
    
    body {
      background: linear-gradient(135deg, #1e1e2f, #111);
      color: white;
      min-height: 100vh;
      overflow-x: hidden;
      position: relative;
    }
    
    /* Splash screen with logo */
    .splash-screen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
      background: rgba(0, 0, 0, 0.9);
      backdrop-filter: blur(10px);
      z-index: 1000;
      transition: all 1s ease;
    }
    
    .splash-screen.hidden {
      opacity: 0;
      pointer-events: none;
    }
    
    .logo-container {
      text-align: center;
      transition: all 1s ease;
    }
    
    .logo {
      width: 200px;
      height: 200px;
      border-radius: 50%;
      background: transparent;
      display: flex;
      justify-content: center;
      align-items: center;
      margin: 0 auto;
      cursor: pointer;
      box-shadow: 0 0 30px rgba(138, 32, 5, 0.5);
      transition: all 1s ease;
      overflow: hidden;
      padding: 10px;
    }
    
    .logo img {
      width: 150%;
      height: 150%;
      object-fit: contain;
      border-radius: 50%;
    }
    
    .logo-text {
      margin-top: 20px;
      font-size: 1.8rem;
      color: #440202;
      text-shadow: 2px 2px 4px rgba(255, 0, 0, 0.5);
      animation: pulse 2s infinite;
    }
    
    @keyframes pulse {
      0% { opacity: 0.8; }
      50% { opacity: 1; }
      100% { opacity: 0.8; }
    }
    
    /* Header styles */
    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 15px 30px;
      background: rgba(0, 0, 0, 0.9);
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      z-index: 100;
      transform: translateY(-100%);
      transition: transform 0.8s ease;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
    }
    
    header.visible {
      transform: translateY(0);
    }
    
    .header-logo {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
      overflow: hidden;
      background: transparent;
    }
    
    .header-logo img {
      width: 150%;
      height: 150%;
      object-fit: contain;
    }
    
    .menu-toggle {
      display: flex;
      flex-direction: column;
      justify-content: center;
      cursor: pointer;
      width: 30px;
      height: 25px;
      z-index: 101;
    }
    
    .menu-toggle span {
      height: 3px;
      width: 100%;
      background-color: #facc15;
      margin: 3px 0;
      border-radius: 2px;
      transition: all 0.3s ease;
    }
    
    .menu-toggle.active span:nth-child(1) {
      transform: rotate(45deg) translate(5px, 5px);
    }
    
    .menu-toggle.active span:nth-child(2) {
      opacity: 0;
    }
    
    .menu-toggle.active span:nth-child(3) {
      transform: rotate(-45deg) translate(7px, -6px);
    }
    
    /* Main content */
    .container {
      padding: 80px 20px 40px;
      text-align: center;
      opacity: 0;
      transition: opacity 1s ease;
      max-width: 800px;
      margin: 0 auto;
      width: 100%;
    }
    
    .container.visible {
      opacity: 1;
    }
    
    h1 {
      font-size: 2.5em;
      color: #facc15;
      margin-bottom: 20px;
      text-shadow: 1px 1px 4px #000;
    }
    
    input, button, select {
      font-size: 1.1em;
      margin: 10px auto;
      padding: 12px 20px;
      border-radius: 10px;
      border: none;
      outline: none;
      width: 90%;
      max-width: 400px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.2);
      display: block;
    }
    
    #playerName {
      text-align: center;
    }
    
    .btn {
      background-color: #22c55e;
      color: white;
      cursor: pointer;
      transition: 0.3s;
    }
    
    .btn:hover {
      background-color: #16a34a;
      transform: scale(1.05);
    }
    
    .btn-next {
      background-color: #3b82f6;
    }
    
    .btn-next:hover {
      background-color: #2563eb;
    }
    
    .btn-danger {
      background-color: #ef4444;
    }
    
    .btn-danger:hover {
      background-color: #dc2626;
    }
    
    #playersList {
      margin-top: 20px;
      font-size: 1.2em;
      padding: 10px;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 10px;
      max-width: 500px;
      margin: 20px auto;
    }
    
    .hidden-role {
      display: none;
      margin-top: 30px;
      font-size: 1.5em;
      background: rgba(255, 255, 255, 0.05);
      border: 2px solid #facc15;
      padding: 25px;
      border-radius: 15px;
      max-width: 500px;
      width: 90%;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.5);
      margin: 20px auto;
    }
    
    .footer {
      margin-top: 50px;
      font-size: 0.9em;
      color: #aaa;
      padding: 10px;
    }
    
    .player-view {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.95);
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      z-index: 100;
      padding: 20px;
    }
    
    .profile-badge {
      display: inline-block;
      background: rgba(255,255,255,0.1);
      padding: 8px 15px;
      border-radius: 20px;
      margin: 5px;
      font-size: 0.9rem;
    }
    
    .profile-badge button {
      background: none;
      border: none;
      color: #ef4444;
      cursor: pointer;
      padding: 0 5px;
      font-size: 0.9em;
      margin-right: 5px;
    }
    
    #savedProfiles {
      margin: 15px 0;
      padding: 10px;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 10px;
    }
    
    /* Sidebar menu */
    .sidebar {
      position: fixed;
      top: 0;
      right: -300px;
      width: 300px;
      height: 100%;
      background: rgba(30, 30, 47, 0.98);
      padding: 80px 20px 20px;
      z-index: 99;
      transition: right 0.5s ease;
      box-shadow: -5px 0 15px rgba(0, 0, 0, 0.5);
      overflow-y: auto;
    }
    
    .sidebar.open {
      right: 0;
    }
    
    .sidebar ul {
      list-style: none;
    }
    
    .sidebar li {
      margin: 20px 0;
    }
    
    .sidebar a {
      color: #facc15;
      text-decoration: none;
      font-size: 1.2rem;
      display: block;
      padding: 12px;
      border-radius: 8px;
      transition: all 0.3s;
    }
    
    .sidebar a:hover {
      background: rgba(250, 204, 21, 0.15);
      transform: translateX(-5px);
    }
    
    /* Role badges */
    .role-badge {
      padding: 5px 12px;
      border-radius: 20px;
      font-size: 0.9rem;
      font-weight: bold;
      margin-left: 10px;
    }
    
    .mafia {
      background: #dc2626;
    }
    
    .citizen {
      background: #16a34a;
    }
    
    .doctor {
      background: #2563eb;
    }
    
    .detective {
      background: #d97706;
    }
    
    .joined {
      background: #7e22ce;
    }
    
    /* Responsive design */
    @media (max-width: 768px) {
      .logo {
        width: 150px;
        height: 150px;
      }
      
      .logo-text {
        font-size: 1.5rem;
      }
      
      h1 {
        font-size: 2rem;
      }
      
      input, button, select {
        width: 95%;
        font-size: 1rem;
      }
      
      .sidebar {
        width: 250px;
      }
      
      header {
        padding: 15px 20px;
      }
    }
    
    @media (max-width: 480px) {
      .logo {
        width: 120px;
        height: 120px;
      }
      
      .logo-text {
        font-size: 1.2rem;
      }
      
      h1 {
        font-size: 1.8rem;
      }
      
      .container {
        padding: 70px 15px 30px;
      }
      
      #playersList {
        font-size: 1rem;
      }
      
      .hidden-role {
        padding: 15px;
        font-size: 1.2rem;
      }
    }
  </style>
</head>
<body>
  <!-- Splash screen with logo -->
  <div class="splash-screen" id="splashScreen">
    <div class="logo-container" id="logoContainer">
      <div class="logo" id="logo">
        <img src="logo.png" alt="ŸÉŸÜ ŸÖÿßŸÅŸäÿß" onerror="this.style.display='none'; this.parentNode.innerHTML='<div style=\'color: #c0392b; font-size: 2rem; font-weight: bold;\'>ŸÉŸÜ ŸÖÿßŸÅŸäÿß</div>';">
      </div>
      <div class="logo-text">ÿ•ÿ∂ÿ∫ÿ∑ ÿπŸÑŸâ ÿßŸÑÿ¥ÿπÿßÿ± ŸÑŸÑŸÖÿ™ÿßÿ®ÿπÿ©</div>
    </div>
  </div>
  
  <!-- Header with logo and menu -->
  <header id="mainHeader">
    <div class="header-logo">
      <img src="logo.png" alt="ŸÉŸÜ ŸÖÿßŸÅŸäÿß" onerror="this.style.display='none'; this.parentNode.innerHTML='<div style=\'color: #c0392b; font-size: 0.9rem; font-weight: bold;\'>ŸÉŸÜ ŸÖÿßŸÅŸäÿß</div>';">
    </div>
    
    <div class="menu-toggle" id="menuToggle">
      <span></span>
      <span></span>
      <span></span>
    </div>
  </header>
  
  <!-- Sidebar menu -->
  <div class="sidebar" id="sidebar">
    <ul>
      <li><a href="#" onclick="showSection('setupSection')">ÿßŸÑÿµŸÅÿ≠ÿ© ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿäÿ©</a></li>
      <li><a href="#" onclick="showRules()">ŸÉŸäŸÅŸäÿ© ÿßŸÑŸÑÿπÿ®</a></li>
      <li><a href="#" onclick="showRolesInfo()">ÿßŸÑÿ£ÿØŸàÿßÿ± ŸàÿßŸÑŸÇŸàÿßÿπÿØ</a></li>
      <li><a href="#" onclick="showSettings()">ÿßŸÑÿ•ÿπÿØÿßÿØÿßÿ™</a></li>
      <li><a href="#" onclick="showAbout()">ÿ≠ŸàŸÑ ÿßŸÑŸÑÿπÿ®ÿ©</a></li>
    </ul>
  </div>
  
  <!-- Main content -->
  <div class="container" id="mainContainer">
    <h1>üé≠ ŸÑÿπÿ®ÿ© ÿßŸÑŸÖÿßŸÅŸäÿß</h1>
    
    <div id="setupSection">
      <input type="text" id="playerName" placeholder="ÿ£ÿØÿÆŸÑ ÿßÿ≥ŸÖ ÿßŸÑŸÑÿßÿπÿ®">
      <button class="btn" onclick="addPlayer(event)">‚ûï ÿ£ÿ∂ŸÅ ÿßŸÑŸÑÿßÿπÿ®</button>
      
      <div id="savedProfiles"></div>
      
      <select id="profileSelect" onchange="loadProfile()">
        <option value="">-- ÿßÿÆÿ™ÿ± ŸÖŸÑŸÅÿß ŸÖÿ≠ŸÅŸàÿ∏ÿß --</option>
      </select>
      <button class="btn" onclick="saveCurrentProfile()">üíæ ÿ≠ŸÅÿ∏ ÿßŸÑŸÇÿßÿ¶ŸÖÿ© ÿßŸÑÿ≠ÿßŸÑŸäÿ©</button>
      
      <div id="playersList"></div>
      <button class="btn" onclick="startGame()">üöÄ ÿ™Ÿàÿ≤Ÿäÿπ ÿßŸÑÿ£ÿØŸàÿßÿ±</button>
      <button class="btn btn-danger" onclick="clearAllData()">üóëÔ∏è ŸÖÿ≥ÿ≠ ÿ¨ŸÖŸäÿπ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™</button>
    </div>
    
    <div class="hidden-role" id="roleCard"></div>
    <div class="footer">üß† ÿ™ÿµŸÖŸäŸÖ Ÿàÿ™ÿ∑ŸàŸäÿ±: ŸÅÿ±ŸäŸÇ ÿßŸÑŸÖÿßŸÅŸäÿß ¬© 2025</div>
  </div>

  <script>
    const baseRoles = ["ŸÑŸÖŸÜÿ∂ŸÖ", "ŸÖÿßŸÅŸäÿß", "ÿ∑ÿ®Ÿäÿ®", "ÿ¥ŸäÿÆ", "ŸÖŸàÿßÿ∑ŸÜ"];
    const descriptions = {
      "ŸÖÿßŸÅŸäÿß": "ÿ™ÿ≠ÿßŸàŸÑ ŸÇÿ™ŸÑ ÿßŸÑŸÖŸàÿßÿ∑ŸÜŸäŸÜ ŸÑŸäŸÑÿßŸã Ÿàÿ™ÿ™ÿ∏ÿßŸáÿ± ÿ®ŸÉŸàŸÜŸáÿß ŸÖŸàÿßÿ∑ŸÜŸãÿß ŸÜŸáÿßÿ±Ÿãÿß",
      "ÿ∑ÿ®Ÿäÿ®": "ŸäŸÖŸÉŸÜŸá ÿ•ŸÜŸÇÿßÿ∞ ÿ¥ÿÆÿµ Ÿàÿßÿ≠ÿØ ŸÉŸÑ ŸÑŸäŸÑÿ© ŸÖŸÜ ŸÇÿ™ŸÑ ÿßŸÑŸÖÿßŸÅŸäÿß",
      "ÿ¥ŸäÿÆ": "ŸäŸÖŸÉŸÜŸá ÿßŸÑÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ ŸáŸàŸäÿ© ŸÑÿßÿπÿ® Ÿàÿßÿ≠ÿØ ŸÉŸÑ ŸÑŸäŸÑÿ© ŸÑŸÖÿπÿ±ŸÅÿ© ÿ•ÿ∞ÿß ŸÉÿßŸÜ ŸÖÿßŸÅŸäÿß ÿ£ŸÖ ŸÑÿß",
      "ŸÖŸàÿßÿ∑ŸÜ": "ŸÑÿß ŸäŸÖŸÑŸÉ ŸÇÿØÿ±ÿ© ÿÆÿßÿµÿ©ÿå ŸÑŸÉŸÜŸá ŸäÿµŸàÿ™ ŸÜŸáÿßÿ±Ÿãÿß ŸÑŸÑŸÇÿ∂ÿßÿ° ÿπŸÑŸâ ÿßŸÑŸÖÿ¥ÿ™ÿ®Ÿá ÿ®ŸáŸÖ",
      "ŸÑŸÖŸÜÿ∂ŸÖ": "Ÿäÿ®ÿØÿ£ ŸÉŸÖŸàÿßÿ∑ŸÜ ŸàŸÑŸÉŸÜ ŸäŸÖŸÉŸÜŸá ÿßŸÑÿßŸÜÿ∂ŸÖÿßŸÖ ÿ•ŸÑŸâ ÿßŸÑŸÖÿßŸÅŸäÿß ÿ•ÿ∞ÿß ÿßŸÉÿ™ÿ¥ŸÅŸàŸá"
    };
    
    let players = [];
    let shuffledRoles = [];
    let currentPlayerIndex = 0;
    let gameStarted = false;
    
    // DOM elements
    const splashScreen = document.getElementById('splashScreen');
    const logoContainer = document.getElementById('logoContainer');
    const logo = document.getElementById('logo');
    const mainHeader = document.getElementById('mainHeader');
    const mainContainer = document.getElementById('mainContainer');
    const menuToggle = document.getElementById('menuToggle');
    const sidebar = document.getElementById('sidebar');
    
    // Logo click event to start animation
    logo.addEventListener('click', startApp);
    
    // Menu toggle event
    menuToggle.addEventListener('click', function() {
      this.classList.toggle('active');
      sidebar.classList.toggle('open');
    });
    
    // Close sidebar when clicking outside
    document.addEventListener('click', function(event) {
      if (sidebar.classList.contains('open') && 
          !sidebar.contains(event.target) && 
          !menuToggle.contains(event.target)) {
        menuToggle.classList.remove('active');
        sidebar.classList.remove('open');
      }
    });
    
    function startApp() {
      // Hide splash screen with fade out
      splashScreen.classList.add('hidden');
      
      // Show header with slide down
      setTimeout(() => {
        mainHeader.classList.add('visible');
      }, 300);
      
      // Show main content with fade in
      setTimeout(() => {
        mainContainer.classList.add('visible');
      }, 800);
      
      // Load saved profiles
      loadSavedProfiles();
    }
    
    function addPlayer(event) {
      event.preventDefault();
      const input = document.getElementById('playerName');
      const name = input.value.trim();
      if (name) {
        players.push(name);
        input.value = '';
        renderPlayers();
      } else {
        alert('‚ö†Ô∏è ÿßŸÑÿ±ÿ¨ÿßÿ° ÿ•ÿØÿÆÿßŸÑ ÿßÿ≥ŸÖ ÿßŸÑŸÑÿßÿπÿ®!');
      }
    }

    function renderPlayers() {
      const list = document.getElementById('playersList');
      if (players.length === 0) {
        list.innerHTML = '';
        return;
      }
      list.innerHTML = '<strong>üë• ŸÇÿßÿ¶ŸÖÿ© ÿßŸÑŸÑÿßÿπÿ®ŸäŸÜ:</strong><br>' + 
        players.map((p, i) => `#${i + 1} üë§ ${p}`).join('<br>');
    }

    function startGame() {
      if (players.length < 4) {
        alert(`‚ö†Ô∏è Ÿäÿ¨ÿ® ÿ•ÿ∂ÿßŸÅÿ© 4 ŸÑÿßÿπÿ®ŸäŸÜ ÿπŸÑŸâ ÿßŸÑÿ£ŸÇŸÑ! ŸÑÿØŸäŸÉ ${players.length} ŸÑÿßÿπÿ®ŸäŸÜ ÿßŸÑÿ¢ŸÜ.`);
        return;
      }
      
      // Make sure we have enough roles
      const neededRoles = [...baseRoles];
      while (neededRoles.length < players.length) {
        neededRoles.push("ŸÖŸàÿßÿ∑ŸÜ");
      }
      
      shuffledRoles = neededRoles.sort(() => Math.random() - 0.5);
      currentPlayerIndex = 0;
      gameStarted = true;
      
      // Hide setup UI
      document.getElementById('setupSection').style.display = 'none';
      
      showPlayerRole();
    }

    function showPlayerRole() {
      if (currentPlayerIndex >= players.length) {
        endGame();
        return;
      }
      
      const player = players[currentPlayerIndex];
      const role = shuffledRoles[currentPlayerIndex];
      
      const roleCard = document.getElementById('roleCard');
      roleCard.innerHTML = `
        <div class="player-view">
          <h2>üé¥ ${player}</h2>
          <p>üïµÔ∏è‚Äç‚ôÇÔ∏è ÿØŸàÿ±ŸÉ ŸáŸà: <strong>${role}</strong></p>
          <p>üìú ${descriptions[role] || 'ÿØŸàÿ± ÿ∫Ÿäÿ± ŸÖÿπÿ±ŸàŸÅ'}</p>
          <button class='btn btn-next' onclick='nextPlayer()'>ÿßŸÑÿ™ÿßŸÑŸä üé≠</button>
        </div>
      `;
      roleCard.style.display = 'block';
    }

    function nextPlayer() {
      document.getElementById('roleCard').style.display = 'none';
      currentPlayerIndex++;
      setTimeout(showPlayerRole, 500);
    }

    function endGame() {
      const roleCard = document.getElementById('roleCard');
      roleCard.innerHTML = `
        <div style="text-align: center;">
          <h2>üéâ ÿ™ŸÖ ÿ™Ÿàÿ≤Ÿäÿπ ÿ¨ŸÖŸäÿπ ÿßŸÑÿ£ÿØŸàÿßÿ±!</h2>
          <p>ÿ®ÿßŸÑÿ™ŸàŸÅŸäŸÇ ŸÅŸä ÿßŸÑŸÑÿπÿ®!</p>
          <button class='btn' onclick='resetGame()'>ŸÑÿπÿ®ÿ© ÿ¨ÿØŸäÿØÿ©</button>
        </div>
      `;
      roleCard.style.display = 'block';
    }

    function resetGame() {
      currentPlayerIndex = 0;
      gameStarted = false;
      
      // Show setup UI again
      document.getElementById('setupSection').style.display = 'block';
      document.getElementById('roleCard').style.display = 'none';
    }
    
    // Profile system functions
    function loadSavedProfiles() {
      const savedProfiles = JSON.parse(localStorage.getItem('mafiaProfiles')) || {};
      const select = document.getElementById('profileSelect');
      
      // Clear existing options except the first one
      while (select.options.length > 1) {
        select.remove(1);
      }
      
      // Add saved profiles to dropdown
      for (const profileName in savedProfiles) {
        const option = document.createElement('option');
        option.value = profileName;
        option.textContent = profileName;
        select.appendChild(option);
      }
      
      // Display saved profiles as badges
      const profilesContainer = document.getElementById('savedProfiles');
      profilesContainer.innerHTML = '<strong>ÿßŸÑŸÖŸÑŸÅÿßÿ™ ÿßŸÑŸÖÿ≠ŸÅŸàÿ∏ÿ©:</strong><br>';
      
      for (const profileName in savedProfiles) {
        const badge = document.createElement('span');
        badge.className = 'profile-badge';
        badge.innerHTML = `
          ${profileName} 
          <button onclick="loadSpecificProfile('${profileName}')">ÿ™ÿ≠ŸÖŸäŸÑ</button>
          <button onclick="deleteProfile('${profileName}')">ÿ≠ÿ∞ŸÅ</button>
        `;
        profilesContainer.appendChild(badge);
      }
    }
    
    function saveCurrentProfile() {
      if (players.length === 0) {
        alert('‚ö†Ô∏è ŸÑÿß ŸäŸàÿ¨ÿØ ŸÑÿßÿπÿ®ŸäŸÜ ŸÑÿ≠ŸÅÿ∏ŸáŸÖ!');
        return;
      }
      
      const profileName = prompt('ÿ£ÿØÿÆŸÑ ÿßÿ≥ŸÖÿß ŸÑŸáÿ∞Ÿá ÿßŸÑŸÇÿßÿ¶ŸÖÿ©:');
      if (!profileName) return;
      
      const savedProfiles = JSON.parse(localStorage.getItem('mafiaProfiles')) || {};
      savedProfiles[profileName] = players;
      localStorage.setItem('mafiaProfiles', JSON.stringify(savedProfiles));
      
      loadSavedProfiles();
      alert(`‚úîÔ∏è ÿ™ŸÖ ÿ≠ŸÅÿ∏ "${profileName}" ÿ®ŸÜÿ¨ÿßÿ≠!`);
    }
    
    function loadProfile() {
      const select = document.getElementById('profileSelect');
      const profileName = select.value;
      if (!profileName) return;
      
      const savedProfiles = JSON.parse(localStorage.getItem('mafiaProfiles')) || {};
      players = savedProfiles[profileName] || [];
      renderPlayers();
    }
    
    function loadSpecificProfile(profileName) {
      const savedProfiles = JSON.parse(localStorage.getItem('mafiaProfiles')) || {};
      players = savedProfiles[profileName] || [];
      renderPlayers();
      
      // Update dropdown selection
      const select = document.getElementById('profileSelect');
      select.value = profileName;
    }
    
    function deleteProfile(profileName) {
      if (!confirm(`ŸáŸÑ ÿ£ŸÜÿ™ ŸÖÿ™ÿ£ŸÉÿØ ŸÖŸÜ ÿ≠ÿ∞ŸÅ "${profileName}"ÿü`)) return;
      
      const savedProfiles = JSON.parse(localStorage.getItem('mafiaProfiles')) || {};
      delete savedProfiles[profileName];
      localStorage.setItem('mafiaProfiles', JSON.stringify(savedProfiles));
      
      loadSavedProfiles();
    }
    
    function clearAllData() {
      if (!confirm('‚ö†Ô∏è ŸáŸÑ ÿ£ŸÜÿ™ ŸÖÿ™ÿ£ŸÉÿØ ŸÖŸÜ ŸÖÿ≥ÿ≠ ÿ¨ŸÖŸäÿπ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑŸÖÿ≠ŸÅŸàÿ∏ÿ©ÿü ŸÑÿß ŸäŸÖŸÉŸÜ ÿßŸÑÿ™ÿ±ÿßÿ¨ÿπ ÿπŸÜ Ÿáÿ∞ÿß ÿßŸÑÿ•ÿ¨ÿ±ÿßÿ°!')) return;
      
      localStorage.removeItem('mafiaProfiles');
      players = [];
      renderPlayers();
      loadSavedProfiles();
    }
    
    // Menu functions
    function showSection(sectionId) {
      // Hide all sections
      document.querySelectorAll('#mainContainer > div').forEach(div => {
        div.style.display = 'none';
      });
      
      // Show selected section
      document.getElementById(sectionId).style.display = 'block';
      
      // Close sidebar
      menuToggle.classList.remove('active');
      sidebar.classList.remove('open');
    }
    
    function showRules() {
      alert('ÿ≥Ÿäÿ™ŸÖ ÿπÿ±ÿ∂ ŸÇŸàÿßÿπÿØ ÿßŸÑŸÑÿπÿ®ÿ© ŸáŸÜÿß ŸÅŸä ÿßŸÑÿ•ÿµÿØÿßÿ±ÿßÿ™ ÿßŸÑŸÇÿßÿØŸÖÿ©!');
      menuToggle.classList.remove('active');
      sidebar.classList.remove('open');
    }
    
    function showRolesInfo() {
      let rolesInfo = "ÿ£ÿØŸàÿßÿ± ÿßŸÑŸÑÿπÿ®ÿ©:\n\n";
      for (const role in descriptions) {
        rolesInfo += `üî∏ ${role}: ${descriptions[role]}\n\n`;
      }
      alert(rolesInfo);
      menuToggle.classList.remove('active');
      sidebar.classList.remove('open');
    }
    
    function showSettings() {
      alert('ÿ≥Ÿäÿ™ŸÖ ÿπÿ±ÿ∂ ÿßŸÑÿ•ÿπÿØÿßÿØÿßÿ™ ŸáŸÜÿß ŸÅŸä ÿßŸÑÿ•ÿµÿØÿßÿ±ÿßÿ™ ÿßŸÑŸÇÿßÿØŸÖÿ©!');
      menuToggle.classList.remove('active');
      sidebar.classList.remove('open');
    }
    
    function showAbout() {
      alert('ŸÑÿπÿ®ÿ© ÿßŸÑŸÖÿßŸÅŸäÿß - ÿ•ÿµÿØÿßÿ± 1.0\n\nŸÑÿπÿ®ÿ© ÿßÿ¨ÿ™ŸÖÿßÿπŸäÿ© ŸÖŸÖÿ™ÿπÿ© ÿ≠Ÿäÿ´ Ÿäÿ≠ÿßŸàŸÑ ÿßŸÑŸÖŸàÿßÿ∑ŸÜŸàŸÜ ÿßŸÉÿ™ÿ¥ÿßŸÅ ŸáŸàŸäÿ© ÿßŸÑŸÖÿßŸÅŸäÿß ÿ®ŸäŸÜŸáŸÖ!\n\nÿ™ŸÖ ÿßŸÑÿ™ÿ∑ŸàŸäÿ± ÿ®Ÿàÿßÿ≥ÿ∑ÿ© ŸÅÿ±ŸäŸÇ ŸÉŸÜ ŸÖÿßŸÅŸäÿß ¬© 2025');
      menuToggle.classList.remove('active');
      sidebar.classList.remove('open');
    }
    
    // Initialize the page
    document.addEventListener('DOMContentLoaded', function() {
      renderPlayers();
    });
  </script>
</body>
</html>